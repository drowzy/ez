OASISFormat: 0.4
Name:        ez
Version:     0.0.1
Synopsis:    An Elasticsearch dsl
Authors:     Simon Th√∂rnqvist
License:     MIT
Plugins:     META (0.4), DevFiles (0.4)

BuildTools: ocamlbuild
AlphaFeatures: ocamlbuild_more_args
XOCamlbuildExtraArgs: -use-menhir

Library "syntax"
  Path: src/syntax
  Modules: Ast, Ez_lexer, Ez_parser
  BuildDepends: menhirLib, core_kernel, sexplib, ppx_sexp_conv
  Install: false

Library "elastic"
  Path: src/elastic
  Modules: Es
  BuildDepends: yojson, syntax
  Install: false

Executable ez
  Path:       src/
  BuildTools: ocamlbuild
  CompiledObject: best
  BuildDepends: core_kernel, cmdliner, yojson, syntax, elastic
  MainIs:     ez.ml

Executable ez_compiler_service
  Build$: !os_type(Win32)
  Path:       src/compiler_service
  BuildTools: ocamlbuild
  CompiledObject: best
  BuildDepends: core_kernel, yojson, syntax, elastic, opium.unix
  MainIs:     ez_cs.ml

Executable test_syntax
  Install: false
  BuildTools: ocamlbuild
  CompiledObject: best
  Path: tests/
  MainIs: main.ml
  BuildDepends: oUnit,syntax

Test syntax
  Command: $test_syntax