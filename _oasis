OASISFormat: 0.4
Name:        ez
Version:     0.0.1
Synopsis:    An Elasticsearch dsl
Authors:     Simon Th√∂rnqvist
License:     MIT
Plugins:     META (0.4), DevFiles (0.4)

BuildTools: ocamlbuild
AlphaFeatures: ocamlbuild_more_args
XOCamlbuildExtraArgs: -use-menhir

Flag bin_linux
  Description: compile for linxu
  Default$: !os_type(Win32)

Flag bin_win
  Description: compile for win
  Default$: !flag(bin_linux)

Library "syntax"
  Path: src/syntax
  Build$: flag(bin_linux)
  Modules: Ast, Lexer, Parser
  BuildDepends: menhirLib
  Install: false

Library "elastic"
  Path: src/elastic
  Build$: flag(bin_linux)
  Modules: Compiler
  BuildDepends: yojson, syntax
  Install: false

Executable ez
  Path:       src/
  Build$: flag(bin_linux)
  BuildTools: ocamlbuild
  CompiledObject: best
  BuildDepends: yojson,menhirLib,core,threads,syntax,elastic
  MainIs:     ez.ml

Executable ez_win
  Path:       src/
  Build$: flag(bin_win)
  BuildTools: ocamlbuild
  CompiledObject: best
  BuildDepends: cmdliner
  MainIs:     ez_win.ml

Executable test_syntax
  Install: false
  BuildTools: ocamlbuild
  CompiledObject: best
  Path: tests/
  MainIs: main.ml
  BuildDepends: oUnit,syntax

Test syntax
  Command: $test_syntax